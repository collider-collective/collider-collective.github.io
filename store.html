<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>COLLIDER: Store</title>
    <script src="https://www.paypal.com/sdk/js?client-id=Ab18YP2iUz2VelExL_Z4a0lbNTvRxSDcOW2ulKMseZOIideUIdJteCgOmiZ-ht1UGTorcIM7K8d3rCRY&currency=AUD&locale=en_AU" data-sdk-integration-source="button-factory"> //change client ID</script> 
    <script type ="text/javascript" src="papaparse.min.js"></script>
    



    
    <title>Collider: Store</title>
</head>
<body>


<header>
    <a href="index.html"><button id="button_work">Home</button></a>
    <a href="work.html"><button id="button_store">Work</button></a>
    <a href="about.html"><button id="button_about">About</button></a>
</header>


    <button id="button_cart" value = 0>Cart (0)</button>



<div id="store-wrapper">
    <!-- normal store container class + a top id solely for top-border-->
    <div id = "store-container-top" class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "75" name = "Spectacle (2020)" >
            <div class="store-left">
                <p>Spectacle (2021)</p>
            </div>

            <div class="store-mid">
                <p>COLLIDER Edition
                <br><br>32 Pages, Hardcover
                <br><br>$75.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>Spectacle (2021)</h4>
                    
                    <p>'Spectacle' examines the aspect of spectatorship that tragedy brings in the modern-era.<br><br>
                    With the pervasive nature of technology and cameras, tragedy - in particular with cultural celebrities - has developed tendencies of spectatorship, inviting the public to affirm their status by attending these events. The images look more akin to a celebration or festival, as opposed to a process of mourning.<br><br>
                    32 pages, 100gsm Silk Paper.
                    <br>Removable Velvet Lined Hardcase.
                    <br>First Edition, 1 of 1.
                    <br><br> 
                    </p> </div>
            </div>

            

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/spec1-min.jpg" data-original="store-img/full/spec1.jpg">
                <img src="store-img/preview/spec2-min.jpg" data-original="store-img/full/spec2.jpg">
                <img src="store-img/preview/spec3-min.jpg" data-original="store-img/full/spec3.jpg">
                

            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "35" name = "Missing Persons (2021)" >
            <div class="store-left">
                <p>Missing Persons (2021)</p>
            </div>
            
            <div class="store-mid">
                <p>Maud Freeman
                <br><br>34 Pages, Saddle Stitch
                <br><br>$35.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>Missing Persons (2021)</h4>
                    <h6> By Maud.</h6>
                    
                    <p>
                        Missing Persons is constructed through the collection and consideration of 1456 photographs sourced from the State Library of 
                        Victoria’s archive. The work responds critically to the cataloging and naming practices adopted by the State Library, reframed 
                        as an imposed, white ontology of ‘normative’ citizenry. This is supported institutionally through the use of a taxonomy of ‘othering’, 
                        applied at will to those not immediately identifiable as Anglo-European. <br> <br>

                        The collected images have been acquired using four specific search phrases*, all of which returned exact matches in the title field. 
                        These phrases were designed to be absent of any nominal, ethnic, or cultural adjective, and as such, constitute an implicit construction 
                        of ‘a normative person’ by the State Library. Using the collected images as a dataset (contained within the attached envelope), a machine 
                        learning algorithm was trained to render portraits of new, artificial normative citizens. <br> <br>

                        Missing Persons problematizes the unspoken whiteness of these normative categories as an archival regime of white privilege; questioning 
                        the thresholds and complexities of the ‘artificial’ and the interlaced role that archival institutions play in the construction of our 
                        historical and contemporary social narratives. <br> <br>

                        1. “A WOMAN” <br>
                        2. “A MAN”  <br>
                        3. “UNIDENTIFIED MAN” <br>
                        4. “UNIDENTIFIED WOMAN” <br><br>
                        
                        <br>34 pg, 115gsm ENVIROCARE.
                        <br>Saddle Stitch, Staple Bound.
                        <br>First Edition of 30.
                        <br><br> 


                    </p> </div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/stamp1-min.jpg" data-original="store-img/full/stamp1.jpg">
                <img src="store-img/preview/stamp2-min.jpg" data-original="store-img/full/stamp2.jpg">
                <img src="store-img/preview/stamp3-min.jpg" data-original="store-img/full/stamp3.jpg">

            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "80" name = "Catacomb (2021)" >
            <div class="store-left">
                <p>Catacomb (2021)</p>
            </div>

            <div class="store-mid">
                <p>Zachariah Micallef
                <br><br>126 Pages, Softcover
                <br><br>$80.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>Catacomb (2021)</h4>
                    
                    <p>'Catacomb' is an ordered list of every file on my computer. Initially, I thought I had some basic understanding of what existed on my hard-drive, but was overwhelmed when a program created to notate every file returned over 1.5 million results; an entirely unfathomable amount of information that exists and operates with very little of my own understanding. <br><br>
                    For each page in selected intervals, a single decipherable word was inputted into Google Images, wherein the first result returned was overlain. <br><br>
                    The result is an abitrary physical archive of what exists in a digital sphere. <br><br>
                    126 pages, Cartrige Paper.
                    <br>Coptic Stitch, Swiss Bound Softcover.
                    <br>First Edition, 1 of 2.
                    <br><br> 
                    </p></div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/cat1-min.jpg" data-original="store-img/full/cat1.jpg">
                <img src="store-img/preview/cat2-min.jpg" data-original="store-img/full/cat2.jpg">
                <img src="store-img/preview/cat3-min.jpg" data-original="store-img/full/cat3.jpg">
                <img src="store-img/preview/cat4-min.jpg" data-original="store-img/full/cat4.jpg">
                
            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "30" name = "August I (2021)" >
            <div class="store-left">
                <p>August I (2021)</p>
            </div>

            <div class="store-mid">
                <p>AUGUST Edition
                <br><br>38 Pages, Saddle Stitch
                <br><br>$30.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>August I (2021)</h4>
                    
                    <p>Sourced archival imagery on 80gsm newsprint. Full bleed.<br><br>
                    210x144mm.
                    <br>38 pages, Newsprint.
                    <br>Saddle Stitch, Staple Bound.
                    <br>First Edition, 1 of 1.
                    <br><br> 
                    </p></div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/aug1-min.jpg" data-original="store-img/full/aug1.jpg">
                <img src="store-img/preview/aug2-min.jpg" data-original="store-img/full/aug2.jpg">
                <img src="store-img/preview/aug3-min.jpg" data-original="store-img/full/aug3.jpg">
                
            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "30" name = "August II (2021)" >
            <div class="store-left">
                <p>August II (2021)</p>
            </div>

            <div class="store-mid">
                <p>AUGUST Edition
                <br><br>22 Pages, Saddle Stitch
                <br><br>$30.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>August II (2021)</h4>
                    
                    <p>Reappropriated archival imagery on 80gsm newsprint, with text super-imposed, scanned, then reprinted.<br><br>
                    210x144mm.
                    <br>22 pages, Newsprint.
                    <br>Saddle Stitch, Staple Bound.
                    <br>First Edition, 1 of 1.
                    <br><br>  
                    </p></div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/hef1-min.jpg" data-original="store-img/full/hef1.jpg">
                <img src="store-img/preview/hef2-min.jpg" data-original="store-img/full/hef2.jpg">
                <img src="store-img/preview/hef3-min.jpg" data-original="store-img/full/hef3.jpg">
                
            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "20" name = "Fig (2021)" >
            <div class="store-left">
                <p>Fig (2021)</p>
            </div>

            <div class="store-mid">
                <p>Zachariah Micallef 
                <br><br>20 Pages, Saddle Stitch
                <br><br>$20.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>Fig (2021)</h4>
                    
                    <p>Sourced archival imagery on 80gsm newsprint. <br><br>
                    210x144mm.
                    <br>20 pages, Newsprint.
                    <br>Saddle Stitch, Thread Bound.
                    <br>First Edition, 1 of 1.
                    <br><br>  
                    </p> </div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/fig1-min.jpg" data-original="store-img/full/fig1.jpg">
                <img src="store-img/preview/fig2-min.jpg" data-original="store-img/full/fig2.jpg">
                <img src="store-img/preview/fig3-min.jpg" data-original="store-img/full/fig3.jpg">
                <img src="store-img/preview/fig4-min.jpg" data-original="store-img/full/fig4.jpg">
                
            </div>
        </div>
    </div>
    <div class = "store-container">
        
        <!-- made a block div for the store info to sit in-->
        <div class ="store-info" value = "60" name = "Kollektor (2021)" >
            <div class="store-left">
                <p>Kollektor (2021)</p>
            </div>

            <div class="store-mid">
                <p>Zachariah Micallef
                <br><br>42 Pages, Hardcover
                <br><br>$60.00 AU
                <br><br><a onmouseover="showInfo(this)" onmouseleave="hideInfo(this)" class = "info-button">&#8599;&#xFE0E; Info</a>
                <div class = "item-info"> 
                    
                    <h4>Kollektor (2021)</h4>
                    
                    <p>Sourced international stamps printed on high-gloss, imposed onto matte pages.<br><br>
                    42 pages, 160GSM matte paper.
                    <br>Thread Bound, Hardcover.
                    <br>First Edition, 1 of 1.
                    <br><br> 
                    </p> </div>
            </div>

        <div  class="store-right">
            <p class = "add-to-cart" ><button  onclick="addToCart(this)">Add to Cart</button></p>
        </div>
    </div>
        <!-- made a img-container as a block for the store-images flex box to sit in-->
        <div class = "store-images-cont">
            <div   class ="store-images">
                <!-- no div needed, just img tags are fine-->
                <img src="store-img/preview/stamp1-min.jpg" data-original="store-img/full/stamp1.jpg">
                <img src="store-img/preview/stamp2-min.jpg" data-original="store-img/full/stamp2.jpg">
                <img src="store-img/preview/stamp3-min.jpg" data-original="store-img/full/stamp3.jpg">

            </div>
        </div>
    </div>
    


</div>

    

<div id = "cart-cont" >

    <div id = "cart-header">


    </div>   
    
    <div id = "cart">
    </div>
    <div id = "pp"> <button id = "checkout" onmouseover="boxSaddowOff(this)" onmouseout="boxSaddowOn(this,'2.5px 2.5px 1.5px gray')" > CHECKOUT </button>
        <div id = "p">
        <div id="smart-button-container">
            <div style="text-align: center;">
              <div id="paypal-button-container" onmouseover="boxSaddowOffid('checkout')" onmouseout="boxSaddowOnid('checkout','2.5px 2.5px 1.5px gray')"></div>
            </div>
          </div></div></div>

   

    
    
   
</div>
</div>

<div class="modal">
	<img src="" alt="" class="full-image">
</div>

</body>

<!--init inventory-->
<script>
// get current inventory --> check for sold out items --> remove add cart and replace w. "sold out" if so.

function currentStoreInventory(results){
    for (let i =1; results.length > i; i++){
        console.log(results[i])


        //check current local storage for items in cart
        //if LS > current level set to current level 

        //check for sold out items
        //if current level == 0 add-to-cart.innerHTML =  "to sold out"
        // how do I find the right elm?

        //create a const for item that can be used as a max-value w. selector()
    }
};
//get inventory from google sheets --> call currentStoreInventory on completion
Papa.parse('https://docs.google.com/spreadsheets/d/e/2PACX-1vTpRXIrrDRRK59X0ZTd4lS9WYtr0Z0aU3UQVSOTKbSjJhpav_VOqAaPsZmsTCjUtN1yVdvHJro873pS/pub?output=csv'
, {
	delimiter: ",",	// auto-detect
	newline: "",	// auto-detect
	quoteChar: '"',
	escapeChar: '"',
	header: false,
	transformHeader: undefined,
	dynamicTyping: false,
	preview: 0,
	encoding: "",
	worker: false,
	comments: false,
	step: undefined,
	complete: 
        
        function (results) {
            var data = results.data;
            currentStoreInventory(data)},
    
    
	error: undefined,
	download: true,
	downloadRequestHeaders: undefined,
	downloadRequestBody: undefined,
	skipEmptyLines: false,
	chunk: undefined,
	chunkSize: undefined,
	fastMode: undefined,
	beforeFirstChunk: undefined,
	withCredentials: undefined,
	transform: undefined,
	
})
</script>
<!-- cart js-->
<script>
    //Toggles cart visablily when cart-botton is clicked
    //
    cartButton = document.getElementById("button_cart");
    cartButton.addEventListener("click", function() { 
    cart =  document.getElementById('cart-cont')
        
        

        if (cart.style.right == "0px"){
            cart.style.right = "-90vw";
        }
        else{
            cart.style.right = "0px";
        }
    })
    //When add to cart is clicked
    //check if local storage exist for item 
function addToCart(object){

    const item = new Array(object.parentNode.parentNode.parentNode.getAttribute("name"),object.parentNode.parentNode.parentNode.getAttribute("value"),1); 
    //if local storage doesn't exist, initaillise value of 0
    if (localStorage.getItem(object.parentNode.parentNode.parentNode.getAttribute("name")) == null) {
        localStorage.setItem("item-"+object.parentNode.parentNode.parentNode.getAttribute("name"), item); 
        }
    updateCart()
    }
function updateCart(){

        //clear cart contents
        cart = document.getElementById("cart")
        cart.innerHTML = '';

       

        for (var i = 0; i < localStorage.length; i++) {
            //checks local storage for cart items (var i = 0; i < localStorage.length; i++) {
        
            if (localStorage.key(i).substr(0, 4) == "item") {
            
                itemKey = localStorage.key(i);
                itemData = localStorage.getItem(itemKey);
                itemData = itemData.split(",");
                
                //[3]=quant
                
                if (parseInt(itemData[2]) > 0 ){
                    
                    var cartItem = document.createElement("DIV");
                    cartItem.className = "cart-item";
                    cartItem.setAttribute('onmouseover','boxSaddowOff(this)');
                    cartItem.setAttribute('onmouseout','boxSaddowOn(this, "5px 5px 5px grey")');
                    cart.appendChild(cartItem);
                    
                    var itemNameCont  = document.createElement("DIV");
                    itemNameCont.className = "item-name-cont";
                    cartItem.appendChild(itemNameCont);
                    
                    
                    var itemName = document.createElement("A");
                    itemName.className = "item-name";
                    itemName.innerHTML = itemData[0];
                    itemNameCont.appendChild(itemName);
                    
                    var quantPrice = document.createElement("DIV");
                    quantPrice.className = "quant-price";
                    cartItem.appendChild(quantPrice);
                    
                    var quantCont = document.createElement("DIV");
                    quantCont.className = "quant-cont";
                    quantPrice.appendChild(quantCont);
                    
                    
                    
                    var selectMinus = document.createElement("BUTTON");
                    selectMinus.className = "quant-selector";
                    selectMinus.innerHTML = "-";
                    selectMinus.setAttribute('onclick','selector(this)')
                    selectMinus.setAttribute('onmouseover','boxSaddowOff(this)');
                    selectMinus.setAttribute('onmouseout','boxSaddowOn(this, "1.5px 1.5px 1.5px grey")');
                    
                    quantCont.appendChild(selectMinus);
                    

                    var quantity = document.createElement("A");
                    quantity.className = "quantity";
                    quantity.innerHTML = itemData[2];
                    quantCont.appendChild(quantity);

                    var selectPlus = document.createElement("BUTTON");
                    selectPlus.className = "quant-selector";
                    selectPlus.innerHTML = "+";
                    selectPlus.setAttribute('onclick','selector(this)');
                    selectPlus.setAttribute('onmouseover','boxSaddowOff(this)');
                    selectPlus.setAttribute('onmouseout','boxSaddowOn(this, "1.5px 1.5px 1.5px grey")');
                    quantCont.appendChild(selectPlus);
                    
                
                    
            
                
                
                
                
                
                
                    //add event listner for selection change --> update cart


                    var itemTotal = document.createElement("A");
                    itemTotal.className = "item-total";
                
                    //update get price
                    var price = parseInt(itemData[2])*parseInt(itemData[1]);
                    itemTotal.innerHTML = "$"+(price);
                
                    quantPrice.appendChild(itemTotal);

                   
        
        
            }
            
        }
           
               
          
    }
    document.getElementById("button_cart").innerHTML = "Cart ("+ document.getElementsByClassName("cart-item").length + ")"  
    if (document.getElementsByClassName("cart-item").length ==0){
        var empty = document.createElement("H3");
            empty.innerHTML = "YOUR CART IS EMPTY"
            empty.className = "empty-cart";
            cart.appendChild(empty);
            document.getElementById("pp").style.display = "none";
            
    }
    else{
        document.getElementById("pp").style.display = "block";
        var subTotal = document.createElement("DIV");
                        subTotal.className = "subtotal";
                        
                        
                        itemTotals = document.getElementsByClassName("item-total");
                        
                        subTotalPrice = 0;
                        
                        for (let i = 0; itemTotals.length > i; i++){
                            
                            x = itemTotals[i].innerHTML.substring(1);
                            
                        
                            subTotalPrice = subTotalPrice + parseInt(x);


                        }
                        subTotal.innerHTML = "SUB-TOTAL: $"+subTotalPrice;

                        cart.appendChild(subTotal);

                        var shipping = document.createElement("DIV");
                            shipping.className = "subtotal";
                            shipping.id = "get-shipping-price";
                            shipping.innerHTML = " PARCEL POSTAGE: $15";
                            cart.appendChild(shipping);

                            totalPrice = document.createElement("DIV");
                            totalPrice.className = "subtotal";
                            totalPrice.id = "get-final-price"
                            totalPrice.innerHTML = "TOTAL: $"+ String(parseInt(15) + parseInt(subTotalPrice));
                            cart.appendChild(totalPrice);
                        
                        
                        
                        
                        //clear paypal button
                        document.getElementById("paypal-button-container").innerHTML = "";
                        initPayPalButton();

                      
                        




                        
    }
                      
}  

function selector(object){

    cartItem = object.parentElement.parentElement.parentElement;

    cartItemName = cartItem.querySelector(".item-name").innerHTML;

    localData = localStorage.getItem("item-"+cartItemName).split(",");

    if(object.innerHTML == "+"){
        localData[2] = parseInt(localData[2]) + 1; 
    }
    else{
        localData[2] = parseInt(localData[2]) - 1;
    }

    localStorage.setItem("item-"+cartItemName, localData);
    
    
    
    
    updateCart()
    
}



updateCart()



</script>
<!--aesthetics js-->
<script>
function boxSaddowOff(object){
        object.style.boxShadow = "0px 0px 0px white";
        }
function boxSaddowOn(object,settings){
        object.style.boxShadow = settings;
        }
function boxSaddowOffid(object){
        document.getElementById(object).style.boxShadow = "0px 0px 0px white";
        }
function boxSaddowOnid(object,settings){
            document.getElementById(object).style.boxShadow = settings;
        }
function showInfo(object){
    
    console.log(object.parentElement.nextSibling);
    object.parentElement.nextSibling.style.display = "block";
}
function hideInfo(object){
    object.parentElement.nextSibling.style.display = "none";
}

</script>
<!--Modal Script-->
<script>

    const modal = document.querySelector('.modal');
    const previews = document.querySelectorAll('img');
    const original = document.querySelector('.full-image');
    
    previews.forEach(preview => {
        preview.addEventListener('click', () => {
            modal.classList.add('open');
            original.classList.add('open');
            //Dynamic change text and image
            const originalSrc = preview.getAttribute('data-original');
            original.src = `${originalSrc}`
        })
    })
    
    modal.addEventListener('click', (e) => {
        if(e.target.classList.contains('modal')){
            modal.classList.remove('open');
            original.classList.remove('open');
        }
    
    })
</script>
<!-- Paypal js-->
<script>
    function initPayPalButton() {
      
		var paypalItemsArray = [];
		
		paypal.Buttons({
        style: {
        shape: 'pill',
          color: 'white',
          layout: 'vertical',
          label: 'pay',
          
        },
		  
		 
		  
		  
		  
		  //get total
		  
		  
		  //get shipping method
		  
		  

        createOrder: function(data, actions) {
          
			//get items array
		  
		  
		  items = document.getElementsByClassName("cart-item");
          
		  
		
			
		  for (var i = 0; i < items.length; i++){
		  
		    paypalItemName = items[i].querySelector(".item-name").innerHTML;
            
		    paypalItemQuant = items[i].querySelector(".quantity").innerHTML;
            
			paypalItemTotalPrice = items[i].querySelector(".item-total").innerHTML;
            
            paypalItemTotalPrice = paypalItemTotalPrice.substring(1)
		    paypalPrice = paypalItemTotalPrice / paypalItemQuant;
	  
			 paypalItemsArray.push({"name": paypalItemName,
			"unit_amount": {
            "currency_code": "AUD",
            "value": paypalPrice},
			"quantity": paypalItemQuant })
		  
		  
		  }
			
          
			
			finalPrice = document.getElementById("get-final-price").innerHTML
            finalPrice = parseFloat(String(finalPrice).substring(8))
            shippingPrice = document.getElementById("get-shipping-price").innerHTML;
			console.log(String(shippingPrice.substring(18)))
            shippingPrice = parseFloat(String(shippingPrice.substring(18)))
            
            itemTotal = (finalPrice - shippingPrice);
		
			
			return actions.order.create({
            purchase_units: [{"description":"COLLIDER WEB STORE PURCHASE",
							  "amount": {
        "currency_code": "AUD",
        "value": finalPrice,
        "breakdown": {
          "item_total": {
            "currency_code": "AUD",
            "value": itemTotal
          },
          "shipping": {
            "currency_code": "AUD",
            "value": shippingPrice
          }}}
							  
							  
							 ,"items": paypalItemsArray } ]
			
		  
		  });
        },
			
        onApprove: function(data, actions) {
          return actions.order.capture().then(function(details) {
            alert('Transaction completed by ' + details.payer.name.given_name + ": we're most greatful for the support");
            // --> page after puchase
            localStorage.clear()
            updateCart()
          });
        },

        onError: function(err) {
          console.log(err);
        },
			onCancel: function(data, actions) {
    },
		
      }).render('#paypal-button-container');
    }
    
</script>



</html>